# https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap

[Skip to main content](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#__docusaurus_skipToContent_fallback)
[Uniswap Docs](https://docs.uniswap.org/)
Search
[Submit Feedback](https://docs.google.com/forms/d/e/1FAIpQLSdjSkZam8KiatL9XACRVxCHjDJjaPGbls77PCXDKFn4JwykXg/viewform)
  * [Concepts](https://docs.uniswap.org/concepts/overview)
  * [Contracts](https://docs.uniswap.org/contracts/v4/overview)
    * [v4 Protocol](https://docs.uniswap.org/contracts/v4/overview)
      * [Overview](https://docs.uniswap.org/contracts/v4/overview)
      * [Deployments](https://docs.uniswap.org/contracts/v4/deployments)
      * [Concepts](https://docs.uniswap.org/contracts/v4/concepts/v4-vs-v3)
      * [Quickstart](https://docs.uniswap.org/contracts/v4/quickstart/create-pool)
        * [Create Pool](https://docs.uniswap.org/contracts/v4/quickstart/create-pool)
        * [Manage Liquidity](https://docs.uniswap.org/contracts/v4/quickstart/manage-liquidity/setup-liquidity)
        * [Swap](https://docs.uniswap.org/contracts/v4/quickstart/swap)
        * [Hooks](https://docs.uniswap.org/contracts/v4/quickstart/hooks/setup)
        * [Subscriber](https://docs.uniswap.org/contracts/v4/quickstart/subscriber)
      * [Guides](https://docs.uniswap.org/contracts/v4/guides/hooks/your-first-hook)
      * [Technical Reference](https://docs.uniswap.org/contracts/v4/reference/errors/)
        * [Errors](https://docs.uniswap.org/contracts/v4/reference/errors/)
        * [Core](https://docs.uniswap.org/contracts/v4/reference/core/libraries/BitMath)
          * [Libraries](https://docs.uniswap.org/contracts/v4/reference/core/libraries/BitMath)
            * [BitMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/BitMath)
            * [CurrencyDelta](https://docs.uniswap.org/contracts/v4/reference/core/libraries/CurrencyDelta)
            * [CurrencyReserves](https://docs.uniswap.org/contracts/v4/reference/core/libraries/CurrencyReserves)
            * [CustomRevert](https://docs.uniswap.org/contracts/v4/reference/core/libraries/CustomRevert)
            * [FixedPoint128](https://docs.uniswap.org/contracts/v4/reference/core/libraries/FixedPoint128)
            * [FixedPoint96](https://docs.uniswap.org/contracts/v4/reference/core/libraries/FixedPoint96)
            * [FullMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/FullMath)
            * [Hooks](https://docs.uniswap.org/contracts/v4/reference/core/libraries/Hooks)
            * [LPFeeLibrary](https://docs.uniswap.org/contracts/v4/reference/core/libraries/LPFeeLibrary)
            * [LiquidityMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/LiquidityMath)
            * [Lock](https://docs.uniswap.org/contracts/v4/reference/core/libraries/Lock)
            * [NonzeroDeltaCount](https://docs.uniswap.org/contracts/v4/reference/core/libraries/NonzeroDeltaCount)
            * [ParseBytes](https://docs.uniswap.org/contracts/v4/reference/core/libraries/ParseBytes)
            * [Pool](https://docs.uniswap.org/contracts/v4/reference/core/libraries/Pool)
            * [Position](https://docs.uniswap.org/contracts/v4/reference/core/libraries/Position)
            * [ProtocolFeeLibrary](https://docs.uniswap.org/contracts/v4/reference/core/libraries/ProtocolFeeLibrary)
            * [SafeCast](https://docs.uniswap.org/contracts/v4/reference/core/libraries/SafeCast)
            * [SqrtPriceMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/SqrtPriceMath)
            * [StateLibrary](https://docs.uniswap.org/contracts/v4/reference/core/libraries/StateLibrary)
            * [SwapMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/SwapMath)
            * [TickBitmap](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap)
            * [TickMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickMath)
            * [TransientStateLibrary](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TransientStateLibrary)
            * [UnsafeMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/UnsafeMath)
            * [LiquidityAmounts](https://docs.uniswap.org/contracts/v4/reference/core/libraries/liquidity-amounts)
            * [TransientStateLibrary](https://docs.uniswap.org/contracts/v4/reference/core/libraries/transient-state-library)
          * [Types](https://docs.uniswap.org/contracts/v4/reference/core/types/BalanceDelta)
          * [ERC6909](https://docs.uniswap.org/contracts/v4/reference/core/ERC6909)
          * [ERC6909Claims](https://docs.uniswap.org/contracts/v4/reference/core/ERC6909Claims)
          * [Extsload](https://docs.uniswap.org/contracts/v4/reference/core/Extsload)
          * [Exttload](https://docs.uniswap.org/contracts/v4/reference/core/Exttload)
          * [IPoolManager](https://docs.uniswap.org/contracts/v4/reference/core/IPoolManager)
          * [NoDelegateCall](https://docs.uniswap.org/contracts/v4/reference/core/NoDelegateCall)
          * [PoolManager](https://docs.uniswap.org/contracts/v4/reference/core/PoolManager)
          * [ProtocolFees](https://docs.uniswap.org/contracts/v4/reference/core/ProtocolFees)
          * [interfaces](https://docs.uniswap.org/contracts/v4/reference/core/interfaces/IERC20Minimal)
          * [test](https://docs.uniswap.org/contracts/v4/reference/core/test/ActionsRouter)
        * [Periphery](https://docs.uniswap.org/contracts/v4/reference/periphery/PositionDescriptor)
    * [v3 Protocol](https://docs.uniswap.org/contracts/v3/overview)
    * [Smart Wallet](https://docs.uniswap.org/contracts/smart-wallet/overview)
    * [UniswapX](https://docs.uniswap.org/contracts/uniswapx/overview)
    * [Universal Router](https://docs.uniswap.org/contracts/universal-router/overview)
    * [Permit2](https://docs.uniswap.org/contracts/permit2/overview)
    * [v2 Protocol](https://docs.uniswap.org/contracts/v2/overview)
    * [v1 Protocol](https://docs.uniswap.org/contracts/v1/overview)
  * [SDKs](https://docs.uniswap.org/sdk/v4/overview)
  * [APIs](https://docs.uniswap.org/api/subgraph/overview)


  * [Home](https://docs.uniswap.org/)
  * [Contracts](https://docs.uniswap.org/contracts/v4/overview)
  * v4 Protocol
  * Technical Reference
  * Core
  * Libraries
  * [TickBitmap](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap)


On this page
# TickBitmap
[Git Source](https://github.com/uniswap/v4-core/blob/80311e34080fee64b6fc6c916e9a51a437d0e482/src/libraries/TickBitmap.sol) - Generated with [forge doc](https://book.getfoundry.sh/reference/forge/forge-doc)
Stores a packed mapping of tick index to its initialized state
_The mapping uses int16 for keys since ticks are represented as int24 and there are 256 (2^8) values per word._
## Functions[​](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#functions "Direct link to Functions")
### compress[​](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#compress "Direct link to compress")
_round towards negative infinity_
```
functioncompress(int24 tick,int24 tickSpacing)internalpurereturns(int24 compressed);
```

### position[​](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#position "Direct link to position")
Computes the position in the mapping where the initialized bit for a tick lives
```
functionposition(int24 tick)internalpurereturns(int16 wordPos,uint8 bitPos);
```

**Parameters**
Name| Type| Description  
---|---|---  
`tick`| `int24`| The tick for which to compute the position  
**Returns**
Name| Type| Description  
---|---|---  
`wordPos`| `int16`| The key in the mapping containing the word in which the bit is stored  
`bitPos`| `uint8`| The bit position in the word where the flag is stored  
### flipTick[​](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#fliptick "Direct link to flipTick")
Flips the initialized state for a given tick from false to true, or vice versa
```
functionflipTick(mapping(int16=>uint256)storage self,int24 tick,int24 tickSpacing)internal;
```

**Parameters**
Name| Type| Description  
---|---|---  
`self`| `mapping(int16 => uint256)`| The mapping in which to flip the tick  
`tick`| `int24`| The tick to flip  
`tickSpacing`| `int24`| The spacing between usable ticks  
### nextInitializedTickWithinOneWord[​](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#nextinitializedtickwithinoneword "Direct link to nextInitializedTickWithinOneWord")
Returns the next initialized tick contained in the same word (or adjacent word) as the tick that is either to the left (less than or equal to) or right (greater than) of the given tick
```
functionnextInitializedTickWithinOneWord(mapping(int16=>uint256)storage self,int24 tick,int24 tickSpacing,bool lte)internalviewreturns(int24 next,bool initialized);
```

**Parameters**
Name| Type| Description  
---|---|---  
`self`| `mapping(int16 => uint256)`| The mapping in which to compute the next initialized tick  
`tick`| `int24`| The starting tick  
`tickSpacing`| `int24`| The spacing between usable ticks  
`lte`| `bool`| Whether to search for the next initialized tick to the left (less than or equal to the starting tick)  
**Returns**
Name| Type| Description  
---|---|---  
`next`| `int24`| The next initialized or uninitialized tick up to 256 ticks away from the current tick  
`initialized`| `bool`| Whether the next tick is initialized, as the function only searches within up to 256 ticks  
## Errors[​](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#errors "Direct link to Errors")
### TickMisaligned[​](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#tickmisaligned "Direct link to TickMisaligned")
Thrown when the tick is not enumerated by the tick spacing
```
error TickMisaligned(int24 tick,int24 tickSpacing);
```

**Parameters**
Name| Type| Description  
---|---|---  
`tick`| `int24`| the invalid tick  
`tickSpacing`| `int24`| The tick spacing of the pool  
[Edit this page](https://github.com/uniswap/uniswap-docs/tree/main/docs/contracts/v4/reference/core/libraries/TickBitmap.md)
Was this helpful?
[PreviousSwapMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/SwapMath)[NextTickMath](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickMath)
On this page
  * [Functions](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#functions)
    * [compress](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#compress)
    * [position](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#position)
    * [flipTick](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#fliptick)
    * [nextInitializedTickWithinOneWord](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#nextinitializedtickwithinoneword)
  * [Errors](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#errors)
    * [TickMisaligned](https://docs.uniswap.org/contracts/v4/reference/core/libraries/TickBitmap#tickmisaligned)


[Edit this page](https://github.com/uniswap/uniswap-docs/tree/main/docs/contracts/v4/reference/core/libraries/TickBitmap.md)
## Footer
[Uniswap Labs](https://docs.uniswap.org/)
### Developers
  * [Dev Chat](https://discord.com/invite/uniswap)
  * [Concepts](https://docs.uniswap.org/concepts/overview)
  * [Contracts](https://docs.uniswap.org/contracts/v4/overview)
  * [SDKs](https://docs.uniswap.org/sdk/v4/overview)
  * [APIs](https://docs.uniswap.org/api/subgraph/overview)
  * [Whitepaper](https://app.uniswap.org/whitepaper-v4.pdf)


### Ecosystem
  * [Uniswap App](https://app.uniswap.org/)
  * [Governance](https://www.uniswapfoundation.org/governance)
  * [Blog](https://blog.uniswap.org/)


### Company
  * [Careers](https://boards.greenhouse.io/uniswaplabs)
  * [Brand Assets](https://github.com/Uniswap/brand-assets/raw/main/Uniswap%20Brand%20Assets.zip)
  * [Terms of Service](https://support.uniswap.org/hc/en-us/articles/30935100859661-Uniswap-Labs-Terms-of-Service)
  * [Privacy Policy](https://support.uniswap.org/hc/en-us/articles/30934457771405-Uniswap-Labs-Privacy-Policy)
  * [Trademark Policy](https://support.uniswap.org/hc/en-us/articles/30934762216973-Uniswap-Labs-Trademark-Guidelines)


### Need Help?
  * [Help Center](https://support.uniswap.org/)
  * [Contact Us](https://support.uniswap.org/hc/en-us/requests/new)


@2025 Uniswap Labs
[](https://github.com/uniswap/uniswap-docs)[](https://twitter.com/Uniswap)[](https://discord.com/invite/uniswap)
