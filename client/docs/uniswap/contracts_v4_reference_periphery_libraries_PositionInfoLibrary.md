# https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary

[Skip to main content](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#__docusaurus_skipToContent_fallback)
[Uniswap Docs](https://docs.uniswap.org/)
Search
[Submit Feedback](https://docs.google.com/forms/d/e/1FAIpQLSdjSkZam8KiatL9XACRVxCHjDJjaPGbls77PCXDKFn4JwykXg/viewform)
  * [Concepts](https://docs.uniswap.org/concepts/overview)
  * [Contracts](https://docs.uniswap.org/contracts/v4/overview)
    * [v4 Protocol](https://docs.uniswap.org/contracts/v4/overview)
      * [Overview](https://docs.uniswap.org/contracts/v4/overview)
      * [Deployments](https://docs.uniswap.org/contracts/v4/deployments)
      * [Concepts](https://docs.uniswap.org/contracts/v4/concepts/v4-vs-v3)
      * [Quickstart](https://docs.uniswap.org/contracts/v4/quickstart/create-pool)
        * [Create Pool](https://docs.uniswap.org/contracts/v4/quickstart/create-pool)
        * [Manage Liquidity](https://docs.uniswap.org/contracts/v4/quickstart/manage-liquidity/setup-liquidity)
        * [Swap](https://docs.uniswap.org/contracts/v4/quickstart/swap)
        * [Hooks](https://docs.uniswap.org/contracts/v4/quickstart/hooks/setup)
        * [Subscriber](https://docs.uniswap.org/contracts/v4/quickstart/subscriber)
      * [Guides](https://docs.uniswap.org/contracts/v4/guides/hooks/your-first-hook)
      * [Technical Reference](https://docs.uniswap.org/contracts/v4/reference/errors/)
        * [Errors](https://docs.uniswap.org/contracts/v4/reference/errors/)
        * [Core](https://docs.uniswap.org/contracts/v4/reference/core/libraries/BitMath)
          * [Libraries](https://docs.uniswap.org/contracts/v4/reference/core/libraries/BitMath)
          * [Types](https://docs.uniswap.org/contracts/v4/reference/core/types/BalanceDelta)
          * [ERC6909](https://docs.uniswap.org/contracts/v4/reference/core/ERC6909)
          * [ERC6909Claims](https://docs.uniswap.org/contracts/v4/reference/core/ERC6909Claims)
          * [Extsload](https://docs.uniswap.org/contracts/v4/reference/core/Extsload)
          * [Exttload](https://docs.uniswap.org/contracts/v4/reference/core/Exttload)
          * [IPoolManager](https://docs.uniswap.org/contracts/v4/reference/core/IPoolManager)
          * [NoDelegateCall](https://docs.uniswap.org/contracts/v4/reference/core/NoDelegateCall)
          * [PoolManager](https://docs.uniswap.org/contracts/v4/reference/core/PoolManager)
          * [ProtocolFees](https://docs.uniswap.org/contracts/v4/reference/core/ProtocolFees)
          * [interfaces](https://docs.uniswap.org/contracts/v4/reference/core/interfaces/IERC20Minimal)
          * [test](https://docs.uniswap.org/contracts/v4/reference/core/test/ActionsRouter)
        * [Periphery](https://docs.uniswap.org/contracts/v4/reference/periphery/PositionDescriptor)
          * [PositionDescriptor](https://docs.uniswap.org/contracts/v4/reference/periphery/PositionDescriptor)
          * [PositionManager](https://docs.uniswap.org/contracts/v4/reference/periphery/PositionManager)
          * [UniswapV4DeployerCompetition](https://docs.uniswap.org/contracts/v4/reference/periphery/UniswapV4DeployerCompetition)
          * [V4Router](https://docs.uniswap.org/contracts/v4/reference/periphery/V4Router)
          * [base](https://docs.uniswap.org/contracts/v4/reference/periphery/base/BaseActionsRouter)
          * [interfaces](https://docs.uniswap.org/contracts/v4/reference/periphery/interfaces/IEIP712_v4)
          * [lens](https://docs.uniswap.org/contracts/v4/reference/periphery/lens/StateView)
          * [libraries](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/ActionConstants)
            * [ActionConstants](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/ActionConstants)
            * [Actions](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/Actions)
            * [AddressStringUtil](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/AddressStringUtil)
            * [BipsLibrary](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/BipsLibrary)
            * [CalldataDecoder](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/CalldataDecoder)
            * [CurrencyRatioSortOrder](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/CurrencyRatioSortOrder)
            * [Descriptor](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/Descriptor)
            * [ERC721PermitHash](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/ERC721PermitHash)
            * [HexStrings](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/HexStrings)
            * [LiquidityAmounts](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/LiquidityAmounts)
            * [Locker](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/Locker)
            * [PathKey](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PathKey)
            * [PositionConfig](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionConfig)
            * [PositionConfigId](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionConfigId)
            * [PositionInfo](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary)
            * [QuoterRevert](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/QuoterRevert)
            * [SVG](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/SVG)
            * [SafeCurrencyMetadata](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/SafeCurrencyMetadata)
            * [SlippageCheck](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/SlippageCheck)
            * [VanityAddressLib](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/VanityAddressLib)
          * [utils](https://docs.uniswap.org/contracts/v4/reference/periphery/utils/BaseHook)
    * [v3 Protocol](https://docs.uniswap.org/contracts/v3/overview)
    * [Smart Wallet](https://docs.uniswap.org/contracts/smart-wallet/overview)
    * [UniswapX](https://docs.uniswap.org/contracts/uniswapx/overview)
    * [Universal Router](https://docs.uniswap.org/contracts/universal-router/overview)
    * [Permit2](https://docs.uniswap.org/contracts/permit2/overview)
    * [v2 Protocol](https://docs.uniswap.org/contracts/v2/overview)
    * [v1 Protocol](https://docs.uniswap.org/contracts/v1/overview)
  * [SDKs](https://docs.uniswap.org/sdk/v4/overview)
  * [APIs](https://docs.uniswap.org/api/subgraph/overview)


  * [Home](https://docs.uniswap.org/)
  * [Contracts](https://docs.uniswap.org/contracts/v4/overview)
  * v4 Protocol
  * Technical Reference
  * Periphery
  * libraries
  * [PositionInfo](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary)


On this page
# PositionInfo
[Git Source](https://github.com/uniswap/v4-periphery/blob/ea2bf2e1ba6863bb809fc2ff791744f308c4a26d/src/libraries/PositionInfoLibrary.sol) - Generated with [forge doc](https://book.getfoundry.sh/reference/forge/forge-doc)
_PositionInfo is a packed version of solidity structure. Using the packaged version saves gas and memory by not storing the structure fields in memory slots. Layout: 200 bits poolId | 24 bits tickUpper | 24 bits tickLower | 8 bits hasSubscriber Fields in the direction from the least significant bit: A flag to know if the tokenId is subscribed to an address uint8 hasSubscriber; The tickUpper of the position int24 tickUpper; The tickLower of the position int24 tickLower; The truncated poolId. Truncates a bytes32 value so the most signifcant (highest) 200 bits are used. bytes25 poolId; Note: If more bits are needed, hasSubscriber can be a single bit._
```
type PositionInfo isuint256;
```

# PositionInfoLibrary
[Git Source](https://github.com/uniswap/v4-periphery/blob/ea2bf2e1ba6863bb809fc2ff791744f308c4a26d/src/libraries/PositionInfoLibrary.sol)
## State Variables[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#state-variables "Direct link to State Variables")
### EMPTY_POSITION_INFO[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#empty_position_info "Direct link to EMPTY_POSITION_INFO")
```
PositionInfo internalconstant EMPTY_POSITION_INFO = PositionInfo.wrap(0);
```

### MASK_UPPER_200_BITS[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#mask_upper_200_bits "Direct link to MASK_UPPER_200_BITS")
```
uint256internalconstant MASK_UPPER_200_BITS =0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000000000;
```

### MASK_8_BITS[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#mask_8_bits "Direct link to MASK_8_BITS")
```
uint256internalconstant MASK_8_BITS =0xFF;
```

### MASK_24_BITS[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#mask_24_bits "Direct link to MASK_24_BITS")
```
uint24internalconstant MASK_24_BITS =0xFFFFFF;
```

### SET_UNSUBSCRIBE[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#set_unsubscribe "Direct link to SET_UNSUBSCRIBE")
```
uint256internalconstant SET_UNSUBSCRIBE =0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00;
```

### SET_SUBSCRIBE[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#set_subscribe "Direct link to SET_SUBSCRIBE")
```
uint256internalconstant SET_SUBSCRIBE =0x01;
```

### TICK_LOWER_OFFSET[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#tick_lower_offset "Direct link to TICK_LOWER_OFFSET")
```
uint8internalconstant TICK_LOWER_OFFSET =8;
```

### TICK_UPPER_OFFSET[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#tick_upper_offset "Direct link to TICK_UPPER_OFFSET")
```
uint8internalconstant TICK_UPPER_OFFSET =32;
```

## Functions[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#functions "Direct link to Functions")
### poolId[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#poolid "Direct link to poolId")
_This poolId is NOT compatible with the poolId used in UniswapV4 core. It is truncated to 25 bytes, and just used to lookup PoolKey in the poolKeys mapping._
```
functionpoolId(PositionInfo info)internalpurereturns(bytes25 _poolId);
```

### tickLower[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#ticklower "Direct link to tickLower")
```
functiontickLower(PositionInfo info)internalpurereturns(int24 _tickLower);
```

### tickUpper[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#tickupper "Direct link to tickUpper")
```
functiontickUpper(PositionInfo info)internalpurereturns(int24 _tickUpper);
```

### hasSubscriber[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#hassubscriber "Direct link to hasSubscriber")
```
functionhasSubscriber(PositionInfo info)internalpurereturns(bool _hasSubscriber);
```

### setSubscribe[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#setsubscribe "Direct link to setSubscribe")
_this does not actually set any storage_
```
functionsetSubscribe(PositionInfo info)internalpurereturns(PositionInfo _info);
```

### setUnsubscribe[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#setunsubscribe "Direct link to setUnsubscribe")
_this does not actually set any storage_
```
functionsetUnsubscribe(PositionInfo info)internalpurereturns(PositionInfo _info);
```

### initialize[​](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#initialize "Direct link to initialize")
Creates the default PositionInfo struct
_Called when minting a new position_
```
functioninitialize(PoolKey memory _poolKey,int24 _tickLower,int24 _tickUpper)internalpurereturns(PositionInfo info);
```

**Parameters**
Name| Type| Description  
---|---|---  
`_poolKey`| `PoolKey`| the pool key of the position  
`_tickLower`| `int24`| the lower tick of the position  
`_tickUpper`| `int24`| the upper tick of the position  
**Returns**
Name| Type| Description  
---|---|---  
`info`| `PositionInfo`| packed position info, with the truncated poolId and the hasSubscriber flag set to false  
[Edit this page](https://github.com/uniswap/uniswap-docs/tree/main/docs/contracts/v4/reference/periphery/libraries/PositionInfoLibrary.md)
Was this helpful?
[PreviousPositionConfigId](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionConfigId)[NextQuoterRevert](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/QuoterRevert)
On this page
  * [State Variables](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#state-variables)
    * [EMPTY_POSITION_INFO](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#empty_position_info)
    * [MASK_UPPER_200_BITS](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#mask_upper_200_bits)
    * [MASK_8_BITS](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#mask_8_bits)
    * [MASK_24_BITS](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#mask_24_bits)
    * [SET_UNSUBSCRIBE](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#set_unsubscribe)
    * [SET_SUBSCRIBE](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#set_subscribe)
    * [TICK_LOWER_OFFSET](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#tick_lower_offset)
    * [TICK_UPPER_OFFSET](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#tick_upper_offset)
  * [Functions](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#functions)
    * [poolId](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#poolid)
    * [tickLower](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#ticklower)
    * [tickUpper](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#tickupper)
    * [hasSubscriber](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#hassubscriber)
    * [setSubscribe](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#setsubscribe)
    * [setUnsubscribe](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#setunsubscribe)
    * [initialize](https://docs.uniswap.org/contracts/v4/reference/periphery/libraries/PositionInfoLibrary#initialize)


[Edit this page](https://github.com/uniswap/uniswap-docs/tree/main/docs/contracts/v4/reference/periphery/libraries/PositionInfoLibrary.md)
## Footer
[Uniswap Labs](https://docs.uniswap.org/)
### Developers
  * [Dev Chat](https://discord.com/invite/uniswap)
  * [Concepts](https://docs.uniswap.org/concepts/overview)
  * [Contracts](https://docs.uniswap.org/contracts/v4/overview)
  * [SDKs](https://docs.uniswap.org/sdk/v4/overview)
  * [APIs](https://docs.uniswap.org/api/subgraph/overview)
  * [Whitepaper](https://app.uniswap.org/whitepaper-v4.pdf)


### Ecosystem
  * [Uniswap App](https://app.uniswap.org/)
  * [Governance](https://www.uniswapfoundation.org/governance)
  * [Blog](https://blog.uniswap.org/)


### Company
  * [Careers](https://boards.greenhouse.io/uniswaplabs)
  * [Brand Assets](https://github.com/Uniswap/brand-assets/raw/main/Uniswap%20Brand%20Assets.zip)
  * [Terms of Service](https://support.uniswap.org/hc/en-us/articles/30935100859661-Uniswap-Labs-Terms-of-Service)
  * [Privacy Policy](https://support.uniswap.org/hc/en-us/articles/30934457771405-Uniswap-Labs-Privacy-Policy)
  * [Trademark Policy](https://support.uniswap.org/hc/en-us/articles/30934762216973-Uniswap-Labs-Trademark-Guidelines)


### Need Help?
  * [Help Center](https://support.uniswap.org/)
  * [Contact Us](https://support.uniswap.org/hc/en-us/requests/new)


@2025 Uniswap Labs
[](https://github.com/uniswap/uniswap-docs)[](https://twitter.com/Uniswap)[](https://discord.com/invite/uniswap)
